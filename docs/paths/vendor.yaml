/vendor/{vendor_id}/password/{token}:
  put:
    operationId: vendorCreatePassword
    summary: Create password
    description: Allows a new user to create their password in order to grant them access.
    tags: [Vendor]
    parameters:
      - name: vendor-id
        in: path
        required: true
        description: Vendor ID (ObjectId)
        schema:
          type: string
          example: 68e437e1f2235a39d7ce5f47

      - name: token
        in: path
        required: true
        description: Vendor token (UUID)
        schema:
          type: string
          example: 92d98d7b-1279-488e-ae2d-652920c06209

    requestBody:
      content:
        application/json:
          schema:
            type: object
            required:
              - password
              - confirmPassword
            properties:
              password:
                type: string
                format: password
                description: New password for the vendor
                example: password123
              confirmPassword:
                type: string
                format: password
                description: Same password for confirmation
                example: password123

    responses:
      "200":
        description: "Password created (always returns '{success: true}')"
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
      "400":
        $ref: "#/components/responses/400"
      "401":
        $ref: "#/components/responses/401"
      "404":
        $ref: "#/components/responses/404"
      "500":
        $ref: "#/components/responses/500"

/vendor/password:
  put:
    operationId: vendorChangePassword
    summary: Change password
    security:
      - VendorAuth: []
    description: Change the user password
    tags: [Vendor]
    parameters:
      - name: vendorId
        in: path
        required: true
        description: Vendor ID (ObjectID)
        schema:
          type: string
          example: 68e437e1f2235a39d7ce5f47
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              current_password:
                type: string
                description: Current password of the vendor
                example: mycurrentpassword
              new_password:
                type: string
                description: New password for vendor
                example: mynewpassword
              confirm_password:
                type: string
                description: Confirmation password
                example: mynewpassword
    responses:
      "200":
        description: "Password changed (always returns '{success: true}')"
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
      "400":
        $ref: "#/components/responses/400"
      "401":
        $ref: "#/components/responses/401"
      "403":
        $ref: "#/components/responses/403"
      "404":
        $ref: "#/components/responses/404"
      "500":
        $ref: "#/components/responses/500"

/vendor/login:
  post:
    operationId: vendorLogin
    summary: Login
    description: Validate the vendor and then set the cookie. Return basic vendor data.
    tags: [Vendor]
    requestBody:
      content:
        application/json:
          schema:
            type: object
            properties:
              email:
                type: string
                description: Email for account.
                example: "john@inletsites.dev"
              password:
                type: string
                description: Password for account.
                example: Password123
    responses:
      "200":
        description: "Auth cookie set."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Vendor"
      "401":
        $ref: "#/components/responses/401"
      "404":
        $ref: "#/components/responses/404"
      "500":
        $ref: "#/components/responses/500"

/vendor/self:
  get:
    operationId: vendorGetSelf
    summary: Get Vendor (self)
    security:
      - VendorAuth: []
    description: Retrieve the data for the vendor. All of the data for the actual vendor to see, including private information.
    tags: [Vendor]
    responses:
      "200":
        description: Successfully found and retrieved vendor's data.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Vendor"
      "401":
        $ref: "#/components/responses/401"
      "403":
        $ref: "#/components/responses/403"
      "500":
        $ref: "#/components/responses/500"

/vendor/{vendorUrl}:
  get:
    operationId: vendorGetFromUrl
    summary: Get Vendor
    description: Retrieve public vendor information with their URL.
    tags: [Vendor]
    responses:
      "200":
        description: Successfully found and retrieved vendor's data.
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Vendor"

/vendor:
  get:
    operationId: vendorGetAll
    summary: Get Vendors
    description: Retrieve a list of all vendors
    tags: [Vendor]
    responses:
      "200":
        description: Successfully retrieved list of all vendors
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Vendor"
